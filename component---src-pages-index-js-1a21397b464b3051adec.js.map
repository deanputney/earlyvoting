{"version":3,"sources":["webpack:///./src/components/header.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./src/components/state-row.js","webpack:///./src/components/time-quip-row.js","webpack:///./src/components/state-gantt.js","webpack:///./src/components/layout.js","webpack:///./src/pages/index.js"],"names":["StateSelect","props","state","data","handleChange","bind","self","ReferenceError","e","targetValue","target","value","window","location","href","render","onChange","this","allGoogleSheetVaApiDataRow","nodes","map","stateSelectOption","Component","statePage","statePageUri","stateSlug","fullStateName","StateSelectDiv","Fragment","className","class","Header","siteTitle","query","StateRow","row","earlyVotingStartDate","earlyVotingEndDate","endDate","parseDate","startDate","shortStartDate","month","date","daysToVote","dateDiffInDays","to","colspan","daysToStart","TimeQuipRow","quip","align","electionDate","quips","42","30","20","14","10","usedQuips","layoutStateRows","stateData","chartStartDate","days","includes","push","StateGantt","allGoogleSheetSiteDatesRow","Layout","children","IndexPage"],"mappings":"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","file":"component---src-pages-index-js-1a21397b464b3051adec.js","sourcesContent":["import React, { Component } from 'react';\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport './style.scss';\n\nimport voteAmericaLogo from '../images/vote-america-logo.png';\nimport Navbar from './navbar';\n\nimport { statePageUri } from '../lib/common';\n\nclass StateSelect extends Component {\n\tconstructor(props) {\n    super(props);\n    this.state = {\n\n    }; // initialise state\n    this.data = props.data;\n\n\t\t// Make sure to bind handleChange or you can make use of arrow function\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    const targetValue = e.target.value;\n\n\t\t// Then you can do whatever you want to do with the value\n\t\twindow.location.href = targetValue;\n  }\n\n  render() {\n  \treturn (\n\t\t\t<select onChange={ this.handleChange }>\n\t\t\t  <option>YOUR STATE</option>\n\t      {\n\t        this.data.allGoogleSheetVaApiDataRow.nodes.map(stateSelectOption)\n\t      }\n\t\t\t</select>\n\t\t);\n  }\n}\n\nconst stateSelectOption = (data) => {\n\tvar statePage = statePageUri(data.stateSlug);\n\n\treturn (\n\t\t<option value={ statePage }>{ data.fullStateName }</option>\n\t);\n}\n\nconst StateSelectDiv = ({ data }) => (\n\t<React.Fragment>\n\t\t<p className=\"subtitle has-text-white is-size-3 is-hidden-mobile\">\n\t\t\tI vote in\n\t\t\t<div class=\"select is-medium is-primary state-dropdown\">\n\t\t\t\t<StateSelect data={ data } />\n\t\t\t</div>\n\t\t\tand I'm ready to get this over with!\n\t\t</p>\n\n\t\t<p className=\"subtitle has-text-white is-size-3 is-hidden-desktop\">\n\t\t\tI vote in\n\t\t\t<div class=\"select is-medium is-primary state-dropdown\">\n\t\t\t\t<StateSelect data={ data } />\n\t\t\t</div>\n\t\t</p>\n\t</React.Fragment>\n)\n\nconst Header = ({ siteTitle }) => (\n\t<section className=\"hero gradientBg is-halfheight\">\n\t\t<div className=\"hero-body\">\n\t\t\t<div className=\"container center\">\n\t\t\t\t<article className=\"media\">\n\t\t\t\t\t<div className=\"media-content\">\n\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<h1 className=\"is-uppercase is-size-1 has-text-white\">\n\t\t\t\t\t\t\t\tYou can vote early in <span class=\"hilight\">41 states</span>.\n\t\t\t\t\t\t\t</h1>\n\n\t\t\t\t\t\t\t<StaticQuery\n\t\t\t\t\t\t\tquery={graphql`\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tallGoogleSheetVaApiDataRow {\n\t\t\t\t\t\t\t\t\t  nodes {\n\t\t\t\t\t\t\t\t\t  \tstateSlug\n\t\t\t\t\t\t\t\t\t    fullStateName\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\trender={data => (\n\t\t\t\t\t\t\t\t<StateSelectDiv data={ data } />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n);\n\nexport default Header;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import React from 'react';\nimport { Link } from 'gatsby';\nimport './style.scss';\nimport { statePageUri } from '../lib/common';\nimport { dateDiffInDays, parseDate } from '../lib/dates';\n\n\nconst cantDisplayStateRow = (row) => {\n  return (row.earlyVotingStartDate === null) || (row.earlyVotingEndDate === null)\n}\n\n\nconst StateRow = (data) => {\n  data = data.data\n  if (cantDisplayStateRow(data)) {\n    return null\n  }\n\n  var statePage = statePageUri(data.state);\n\n  var endDate = parseDate(data.earlyVotingEndDate)\n  var startDate = parseDate(data.earlyVotingStartDate)\n\n  data.shortStartDate = (startDate.month() + 1) + '/' + (startDate.date() + 1)\n\n  const daysToVote = dateDiffInDays(startDate, endDate)\n\n  if ((data.daysToVote < 1) || (endDate === null)) {\n    return null\n  }\n\n  // The first colspan is how far from left to offset the start of the bar.\n  // This corresponds to how many days from TODAY is the beginning of the voting period.\n  // The second colspan is how long the voting period is.\n\n  if (data.daysToVote < 3) {\n    return (\n      <tr>\n        <th><Link to={statePage}>{data.state}</Link></th>\n        <td colspan={data.daysToStart} class=\"bar-spacer\">{data.shortStartDate}</td>\n        <td colspan={daysToVote} class=\"bar\">\n          <Link to={statePage}>\n            <div class=\"bar-content\"></div>\n          </Link>\n        </td>\n      </tr>\n    )\n  }\n\n  const minMobileDays = 12\n\n  return (\n    <tr>\n      <th><Link to={statePage}>{data.state}</Link></th>\n      <td colspan={data.daysToStart} class=\"bar-spacer\">\n        <span class={(\n          () => {\n            if (data.daysToVote < minMobileDays) { return 'date is-hidden-tablet' }\n            return 'date is-hidden'\n          }\n        )()} >{data.shortStartDate}</span>\n      </td>\n      <td colspan={daysToVote} class=\"bar\">\n        <Link to={statePage}>\n          <div class=\"bar-content\">\n            <span class={(\n              () => {\n                if (data.daysToVote < minMobileDays) { return 'date is-hidden-mobile' }\n                return 'date'\n              }\n            )()}>{data.shortStartDate}</span>\n          </div>\n        </Link>\n      </td>\n    </tr>\n  )\n};\n\nexport default StateRow;\n","import React from 'react';\nimport './style.scss';\n\nconst TimeQuipRow = (data) => {\n  const quip = data.quip\n  data = data.data\n\n  // The first colspan is how far from left to offset the start of the bar.\n  // This corresponds to how many days from TODAY is the beginning of the voting period.\n  // The second colspan is how long the voting period is.\n  return (\n    <React.Fragment>\n      <tr class=\"is-hidden-touch\">\n        <th></th>\n        <td colspan={data.daysToStart}></td>\n        <td colspan={data.daysToVote} class=\"quip\">{quip}</td>\n      </tr>\n      <tr class=\"is-hidden-desktop\">\n        <td colspan=\"47\" class=\"quip\" align=\"right\">{quip}</td>\n      </tr>\n    </React.Fragment>\n  )\n};\n\nexport default TimeQuipRow;\n","import React from 'react';\nimport { StaticQuery, graphql } from 'gatsby'\nimport StateRow from './state-row';\nimport TimeQuipRow from './time-quip-row';\nimport './style.scss';\nimport {todaysDate, parseDate, dateDiffInDays} from '../lib/dates';\n\nconst electionDate = parseDate('2020-11-03')\nlet quips = {\n  42: 'You could do a Couch to 5K if you saved this much time.',\n  30: 'Voting now would save you a whole month.',\n  20: 'This is three whole weekends off.',\n  14: 'Two weeks of bliss.',\n  10: 'Still worth it!'\n}\nlet usedQuips = []\n\nfunction layoutStateRows(stateData) {\n  const startDate = parseDate(stateData.earlyVotingStartDate)\n  const chartStartDate = parseDate('2020-09-17')\n  const days = dateDiffInDays(startDate, electionDate)\n  stateData.daysToStart = dateDiffInDays(chartStartDate, startDate)\n\n  if (quips[days] != null && !usedQuips.includes(days)) {\n    usedQuips.push(days)\n\n    return (\n      <React.Fragment>\n        <TimeQuipRow quip={quips[days]} data={stateData} />\n        <StateRow data={stateData} />\n      </React.Fragment>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <StateRow data={stateData} />\n    </React.Fragment>\n  )\n}\n\nconst StateGantt = () => (\n  <StaticQuery\n  query={graphql`\n    {\n      allGoogleSheetSiteDatesRow {\n        nodes {\n          state\n          daysToVote\n          earlyVotingStartDate\n          earlyVotingEndDate\n        }\n      }\n    }\n  `}\n  render={data => (\n    <div class=\"columns\">\n      <div class=\"column gantt-column is-10-desktop is-offset-1-desktop is-fullwidth-mobile\">\n        <table class=\"gantt table is-fullwidth\">\n          <thead>\n            <th></th>\n            <td colspan=\"45\" align=\"right\">Election Day is November 3rd</td>\n          </thead>\n          <tr>\n            <td class=\"bars\" colspan=\"46\">\n              <table class=\"is-fullwidth is-fullwidth-mobile\">\n                {\n                  data.allGoogleSheetSiteDatesRow.nodes.map(layoutStateRows)\n                }\n              </table>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  )}\n  />\n);\n\nexport default StateGantt;\n","import React from 'react';\n\nimport './style.scss';\nimport Helmet from './helmet';\nimport Header from './header';\nimport StateGantt from './state-gantt';\nimport SiteDescription from './site-description';\nimport Footer from './footer';\n\nconst Layout = ({ children }) => (\n\t<div>\n\t\t<Helmet />\n\t\t<Header />\n\n    <div>\n      <section className=\"section\">\n        <div className=\"container\">\n          <SiteDescription />\n\n          <StateGantt />\n        </div>\n      </section>\n    </div>\n\n\t\t<Footer />\n\t</div>\n);\n\nexport default Layout;\n","import React from 'react';\n\nimport Layout from '../components/layout';\n\nconst IndexPage = () => <Layout />;\n\nexport default IndexPage;\n"],"sourceRoot":""}